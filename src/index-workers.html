<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bad Taste</title>
    <link rel="stylesheet" href="./styles.scss">
</head>

<body>
    <div class="container">
        <section class="jumbotron text-center">
            <h1 class="text-monospace">What people say about music</h1>
            <h4 class="text-monospace mt-4">Or: A small demonstration why workers matter</h4>
            <hr class="my-md-3 my-lg-5">
            <div class="text-left">
                <p>This website contains two Javascript operations: Fetching data from <a href="https://randomuser.me/" target="_blank">two</a> <a href="https://binaryjazz.us/genrenator-api/" target="_blank">APIs</a> and sorting the resulting datasets<sup>1</sup>.</p>
                <p>The sorting takes up a lot of execution time, especially when data is growing. Time that the thread they are running in cannot use for other operations – such as dealing with user input.</p>
                <p>Wait for the dataset to grow and then sort it by clicking on one of the arrows below. Try to hover over the other buttons while the script is sorting. Compare these two implementations:</p>
                <p class="text-center">
                    <a href="/index.html" class="btn btn-outline-secondary text-monospace">All Javascript running in main thread</a>
                    <a href="#" class="btn btn-secondary text-monospace m-3">Fetching and sorting running in workers</a>
                </p>
                <small><sup>1</sup> Actually, the sorting has been made <a href="https://github.com/mgschoen/bad-taste/blob/master/src/workers/SortWorker.js#L20-L23">extra expensive</a> for demo purposes.</small>
            </div>
        </section>
        <table class="table" data-component="QuotesList" data-use-workers="true">
            <thead>
                <tr>
                    <th scope="col" data-component="LoadingSpinner">
                        <button data-component="SortButton" data-property="name" type="button" class="btn btn-outline-secondary btn-sm">↓</button>
                        <div data-loading-spinner-el="busy" class="spinner-border spinner-border-sm d-none" role="status">
                            <span class="sr-only">Loading...</span>
                        </div>
                        <span data-loading-spinner-el="idle">Names</span>
                    </th>
                    <th scope="col" data-component="LoadingSpinner">
                        <button data-component="SortButton" data-property="from" type="button" class="btn btn-outline-secondary btn-sm">↓</button>
                        <div data-loading-spinner-el="busy" class="spinner-border spinner-border-sm d-none" role="status">
                            <span class="sr-only">Loading...</span>
                        </div>
                        <span data-loading-spinner-el="idle">From</span>
                    </th>
                    <th scope="col" data-component="LoadingSpinner">
                        <button data-component="SortButton" data-property="quote" type="button" class="btn btn-outline-secondary btn-sm">↓</button>
                        <div data-loading-spinner-el="busy" class="spinner-border spinner-border-sm d-none" role="status">
                            <span class="sr-only">Loading...</span>
                        </div>
                        <span data-loading-spinner-el="idle">
                            Quotes
                            <span data-quotes-list-el="counter" class="badge badge-primary"></span>
                        </span>
                    </th>
                </tr>
            </thead>
            <tbody data-quotes-list-el="table-body"></tbody>
            <tfoot class="invisible">
                <tr data-quotes-list-el="table-row-prototype">
                    <td>__proto_name__</td>
                    <td>__proto_from__</td>
                    <td>__proto_quote__</td>
                </tr>
            </tfoot>
        </table>
    </div>
    <script src="./main.js"></script>
</body>

</html>